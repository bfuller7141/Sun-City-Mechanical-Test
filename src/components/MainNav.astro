---
import '../styles/global.css';
import '../styles/navigation.css'
import { getCollection } from 'astro:content';
import '../../public/scripts/navbar.js';

// Fetch the content for heating, cooling, and air quality
const heatingContent = await getCollection('heating');
const coolingContent = await getCollection('cooling');
const airQualityContent = await getCollection('air-quality');
---

<div class="nav-top">
    <div class="container">
        <div class="wrapper-nav-top">
            <div class="nav-title">Proudly Serving the West Valley Since 2003</div>
            <ul class="wrapper-nav-top buttons" role="list" aria-label="Contact Options">
                <li class="nav-top-button blue-nav">
                    <a href="/schedule">
                        <span>• Schedule •</span>
                    </a>
                </li>
                <li class="nav-top-button navy-nav">
                    <a href="mailto:info@suncitymechanical.com">
                        <span class="icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 26.01 20.122" fill="currentColor">
                                <path d="M2.575.939A2.478,2.478,0,0,0,.137,3.455a2.544,2.544,0,0,0,.975,2.012l11.054,8.552a1.591,1.591,0,0,0,1.951,0L25.171,5.467a2.544,2.544,0,0,0,.975-2.012A2.478,2.478,0,0,0,23.708.939ZM.137,6.808v10.9a3.307,3.307,0,0,0,3.251,3.354H22.9a3.307,3.307,0,0,0,3.251-3.354V6.808L15.092,15.36a3.167,3.167,0,0,1-3.9,0Z" transform="translate(-0.137 -0.939)"></path>
                            </svg>
                        </span>
                        <span>info@suncitymechanical.com</span>
                    </a>
                </li>
                <li class="nav-top-button red-nav">
                    <a href="tel:+16232142366">
                        <span class="icon">
                            <svg xmlns="http://www.w3.org/2000/svg" width="27" height="27" viewBox="0 0 27 27" fill="currentColor">
                                <path d="M25.9,20.1,20.85,16.836a2.4,2.4,0,0,0-2.8.139l-2.207,1.762a46.8,46.8,0,0,1-4.016-3.559,46.8,46.8,0,0,1-3.559-4.016l1.762-2.207a2.4,2.4,0,0,0,.139-2.8L6.9,1.1A2.4,2.4,0,0,0,3.178.7L1.2,2.683A4.076,4.076,0,0,0,.179,6.762C.99,9.41,3.019,13.884,8.067,18.933s9.523,7.077,12.171,7.888a4.077,4.077,0,0,0,4.079-1.02l1.979-1.98A2.4,2.4,0,0,0,25.9,20.1" transform="translate(0 0)"></path>
                            </svg>
                        </span>
                        <span>(623) 214-2366</span>
                    </a>
                </li>
            </ul>
        </div>
    </div>
</div>
<div class="nav-bottom" role="banner" aria-label="navbar">
    <div class="container">
        <div class="wrapper-nav">
            <a href="/" aria-current="page" class="logo">
                <img src="/images/logo-main.svg" loading="eager" alt="Sun City Mechanical Logo" />
            </a>
            <button class="hamburger" aria-expanded="false" aria-controls="nav-menu" aria-label="Toggle navigation">
                <span class="ham-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M3 18h18v-2H3v2Zm0-5h18v-2H3v2Zm0-7v2H21V6H3Z"></path>
                    </svg>
                </span>
            </button>
            <nav class="nav-menu" id="nav-menu" role="navigation">
                <ul aria-label="navigation menu">
                    <!-- Heating Dropdown -->
                    <li class="dropdown">
                        <a href="#" class="nav-link" aria-haspopup="true" aria-expanded="false" aria-controls="dropdown-heating" aria-label="heating services">
                            Heating
                            <span class="icon-nav">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-caret-down-fill" viewBox="0 0 16 16">
                                    <path d="M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"/>
                                </svg>
                            </span>
                        </a>
                        <ul id="dropdown-heating" class="dropdown-list">
                            {heatingContent.map((item) => (
                                <li class="dropdown-link"><a href={`/heating/${item.slug}`}>{item.data.title}</a></li>
                            ))}
                        </ul>
                    </li>

                    <!-- Cooling Dropdown -->
                    <li class="dropdown">
                        <a href="#" class="nav-link" aria-haspopup="true" aria-expanded="false" aria-controls="dropdown-cooling" aria-label="cooling services">
                            Cooling
                            <span class="icon-nav">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-caret-down-fill" viewBox="0 0 16 16">
                                    <path d="M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"/>
                                </svg>
                            </span>
                        </a>
                        <ul id="dropdown-cooling" class="dropdown-list">
                            {coolingContent.map((item) => (
                                <li class="dropdown-link"><a href={`/cooling/${item.slug}`}>{item.data.title}</a></li>
                            ))}
                        </ul>
                    </li>

                    <!-- Air Quality Dropdown -->
                    <li class="dropdown">
                        <a href="#" class="nav-link" aria-haspopup="true" aria-expanded="false" aria-controls="dropdown-air-quality" aria-label="air quality services">
                            Air Quality
                            <span class="icon-nav">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-caret-down-fill" viewBox="0 0 16 16">
                                    <path d="M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"/>
                                </svg>
                            </span>
                        </a>
                        <ul id="dropdown-air-quality" class="dropdown-list">
                            {airQualityContent.map((item) => (
                                <li class="dropdown-link"><a href={`/air-quality/${item.slug}`}>{item.data.title}</a></li>
                            ))}
                        </ul>
                    </li>

                    <li><a href="/about" class="nav-link">About Us</a></li>
                    <li><a href="/ask-a-tech" class="nav-link">Ask A Tech</a></li>
                </ul>
            </nav>
        </div>
    </div>
</div>